from django.db import models
from django.contrib.auth.models import User
import pytz
from django.urls import reverse
from django.dispatch import receiver
from django.db.models.signals import (
    post_save,
    pre_save 
)
from django.conf import settings


class Telegram(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE, null=True, blank=True)
    telegram_id = models.IntegerField(null=True, blank=True)
    token = models.IntegerField(null=True, blank=True)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return f"Token:{self.token}"

class Group_type(models.Model):
    type = models.CharField(max_length=50, null=True, blank=True)

    def __str__(self):
        return self.type

class Group(models.Model):
    admin = models.ForeignKey(User, on_delete=models.CASCADE) 
    name = models.CharField(max_length=200)
    description = models.TextField(null=True, blank=True)
    participants = models.ManyToManyField(User, related_name='participants', blank=True)
    updated = models.DateTimeField(auto_now=True)
    created = models.DateTimeField(auto_now_add=True)
    type = models.ForeignKey(Group_type, on_delete=models.CASCADE, null=True)

    class Meta:
        ordering = ['-created']

    def __str__(self):
        return self.name

class Settings(models.Model):

    STATUS_CHOISES = [
        ('open', 'Open'),
        ('permanently closed', 'Permanently Closed'),
    ]

    DAYS_CHOISES = [
        ('everyday', 'Everyday'),
        ('weekdays', 'Weekdays'),
        ('weekends', 'Weekends'),
    ]

    TIME_CHOISES = [
        ('24 hours', '24 Hours'),
        ('set open and close time', 'Set Open and Close Time'),
    ]

    OPEN_TIME_CHOISES = [
        ('AM', (
            ('0', '0h'),
            ('1', '1h'),
            ('2', '2h'),
            ('3', '3h'),
            ('4', '4h'),
            ('5', '5h'),
            ('6', '6h'),
            ('7', '7h'),
            ('8', '8h'),
            ('9', '9h'),
            ('10', '10h'),
            ('11', '11h'),
        )),
        ('PM', (
            ('12', '12h'),
            ('13', '13h'),
            ('14', '14h'),
            ('15', '15h'),
            ('16', '16h'),
            ('17', '17h'),
            ('18', '18h'),
            ('19', '19h'),
            ('20', '20h'),
            ('21', '21h'),
            ('22', '22h'),
            ('23', '23h'),
        ))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (
            ('0', '0h'),
            ('1', '1h'),
            ('2', '2h'),
            ('3', '3h'),
            ('4', '4h'),
            ('5', '5h'),
            ('6', '6h'),
            ('7', '7h'),
            ('8', '8h'),
            ('9', '9h'),
            ('10', '10h'),
            ('11', '11h'),
        )),
        ('PM', (
            ('12', '12h'),
            ('13', '13h'),
            ('14', '14h'),
            ('15', '15h'),
            ('16', '16h'),
            ('17', '17h'),
            ('18', '18h'),
            ('19', '19h'),
            ('20', '20h'),
            ('21', '21h'),
            ('22', '22h'),
            ('23', '23h'),
        ))
    ]

    NOTIFICATION_CHOISES = [
        ('on', 'On'),
        ('off', 'Off'),
    ]

    VOICE_MESSAGES_CHOISES = [
        ('inactivated','Inactivate'),
        ('activated','Activate')
    ]

    user = models.ForeignKey(User, on_delete=models.CASCADE, null=True, blank=True)

    status = models.CharField(
        max_length=50,
        choices=STATUS_CHOISES,
        default='Open',
        help_text='''Select the status'''
        ) 
        
    time = models.CharField(
        max_length=50,
        choices=TIME_CHOISES,
        default='24 Hours',
        help_text='''Select the time''',
        blank=True,
        null=True
        ) 

    open_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        default='invalid',
        help_text='''Select the open time''',
        null=True

        ) 

    close_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        default='invalid',
        help_text='''Select the close time''',
        null=True
        ) 

    days = models.CharField(
        max_length=50,
        choices=DAYS_CHOISES,
        default='Everyday',
        help_text='''Select the days''',
        blank=True,
        null=True
        )

    notification = models.CharField(
        max_length=50,
        choices=NOTIFICATION_CHOISES,
        default='Off',
        help_text='''Select the notification''',
        blank=True,
        null=True
        )

    timezone = models.CharField(
        max_length=128, 
        choices=[(tz, tz) for tz in pytz.common_timezones],
        default='America/Sao_Paulo',
        blank=True,
        null=True
        )

    voice_messages = models.CharField(
        max_length=50,
        choices=VOICE_MESSAGES_CHOISES,
        default='Inactivate',
        blank=True,
        null=True
        )

    voice_messages_notification = models.CharField(
        max_length=10,
        choices=NOTIFICATION_CHOISES,
        default='Off',
        blank=True,
        null=True
        )

    def __str__(self):
        return f'Opening_hours: {self.user}'

@receiver(post_save, sender=User)
def new_user_agenda_create(sender, instance, created, *args, **kwargs):
    if created:
        Agenda.objects.create(user=instance, name='Main')
        # MondaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        # TuesdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        # WednesdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        # ThursdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        # FridaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='16:00') 

class Agenda(models.Model):

    INCREMENTS_CHOISES = [
        ('15','15 min'), ('30','30 min'), ('45', '45 min'), ('60', '60 min')
    ]

    class Meta:
        verbose_name_plural = 'agenda'

    user = models.ForeignKey(User, on_delete=models.CASCADE, null=True, blank=True)

    name = models.CharField(
        max_length=70,
        null=True
    )

    increments = models.CharField(
        max_length=50,
        choices=INCREMENTS_CHOISES,
        default='30 min',
        null=True
        )

    timezone = models.CharField(
        max_length=128, 
        choices=[(tz, tz) for tz in pytz.common_timezones],
        default='America/Sao_Paulo',
        blank=True,
        null=True
        ) 

    monday = models.BooleanField(
        default=True
    )

    tuesday = models.BooleanField(
        default=True
    )

    wednesday = models.BooleanField(
        default=True
    )

    thursday = models.BooleanField(
        default=True
    )

    friday = models.BooleanField(
        default=True
    )

    saturday = models.BooleanField(
        default=False
    )

    sunday = models.BooleanField(
        default=False
    )

    new = models.BooleanField(
        default=True,
        null=True
    )

    def __str__(self):
        return f'{self.user} - {self.name}'

    def get_agenda_detail_url(self):
        return reverse('agenda-detail', kwargs={'id':self.id})

    def get_agenda_update_url(self):
        return reverse('agenda-update', kwargs={'id':self.id})

    def get_agenda_delete_url(self):
        return reverse('agenda-delete', kwargs={'id':self.id})

    def get_hx_url(self):
        return reverse("hx-agenda-detail", kwargs={"id": self.id})

    def get_monday_schedules(self):
        return self.mondayschedules_set.all()

    def get_tuesday_schedules(self):
        return self.tuesdayschedules_set.all()

    def get_wednesday_schedules(self):
        return self.wednesdayschedules_set.all()

    def get_thursday_schedules(self):
        return self.thursdayschedules_set.all()

    def get_friday_schedules(self):
        return self.fridayschedules_set.all()

    def get_saturday_schedules(self):
        return self.saturdayschedules_set.all()

    def get_sunday_schedules(self):
        return self.sundayschedules_set.all()

@receiver(pre_save, sender=Agenda)
def new_agenda_create(sender, instance, *args, **kwargs):
    if instance.new == True:
        instance.sunday = False
        instance.monday = True
        instance.tuesday = True
        instance.wednesday = True
        instance.thursday = True
        instance.friday = True
        instance.saturday = False
        instance.increments = '30'
        instance.timezone = 'America/Sao_Paulo'

@receiver(post_save, sender=Agenda)
def new_agenda_create(sender, instance, created, *args, **kwargs):
    if created:
        new_agenda = instance
        MondaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        TuesdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        WednesdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        ThursdaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')
        FridaySchedules.objects.create(agenda=new_agenda, start_time='7:00', end_time='17:00')

class MondaySchedules(models.Model):

    class Meta:
        verbose_name = 'Monday'
        verbose_name_plural = 'monday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_monday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('monday-delete', kwargs=kwargs)

    def get_monday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-monday-update', kwargs=kwargs)


class TuesdaySchedules(models.Model):

    class Meta:
        verbose_name = 'Tuesday'
        verbose_name_plural = 'tuesday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_tuesday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('tuesday-delete', kwargs=kwargs)

    def get_tuesday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-tuesday-update', kwargs=kwargs)
    

class WednesdaySchedules(models.Model):

    class Meta:
        verbose_name = 'wednesday'
        verbose_name_plural = 'wednesday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_wednesday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('wednesday-delete', kwargs=kwargs)

    def get_wednesday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-wednesday-update', kwargs=kwargs)


class ThursdaySchedules(models.Model):

    class Meta:
        verbose_name = 'Thursday'
        verbose_name_plural = 'thursday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_thursday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('thursday-delete', kwargs=kwargs)

    def get_thursday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-thursday-update', kwargs=kwargs)


class FridaySchedules(models.Model):

    class Meta:
        verbose_name = 'Friday'
        verbose_name_plural = 'friday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_friday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('friday-delete', kwargs=kwargs)

    def get_friday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-friday-update', kwargs=kwargs)

class SaturdaySchedules(models.Model):

    class Meta:
        verbose_name = 'Saturday'
        verbose_name_plural = 'saturday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_saturday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('saturday-delete', kwargs=kwargs)

    def get_tuesday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-saturday-update', kwargs=kwargs)


class SundaySchedules(models.Model):

    class Meta:
        verbose_name = 'Sunday'
        verbose_name_plural = 'sunday'

    OPEN_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    CLOSE_TIME_CHOISES = [
        ('AM', (('0:00', '0:00'),('0:15', '0:15'),('0:30', '0:30'),('0:45', '0:45'),
                ('1:00', '1:00'),('1:15', '1:15'),('1:30', '1:30'),('1:45', '1:45'),
                ('2:00', '2:00'),('2:15', '2:15'),('2:30', '2:30'),('2:45', '2:45'),
                ('3:00', '3:00'),('3:15', '3:15'),('3:30', '3:30'),('3:45', '3:45'),
                ('4:00', '4:00'),('4:15', '4:15'),('4:30', '4:30'),('4:45', '4:45'),
                ('5:00', '5:00'),('5:15', '5:15'),('5:30', '5:30'),('5:45', '5:45'),
                ('6:00', '6:00'),('6:15', '6:15'),('6:30', '6:30'),('6:45', '6:45'),
                ('7:00', '7:00'),('7:15', '7:15'),('7:30', '7:30'),('7:45', '7:45'),
                ('8:00', '8:00'),('8:15', '8:15'),('8:30', '8:30'),('8:45', '8:45'),
                ('9:00', '9:00'),('9:15', '9:15'),('9:30', '9:30'),('9:45', '9:45'),
                ('10:00', '10:00'),('10:15', '10:15'),('10:30', '10:30'),('10:45', '10:45'),
                ('11:00', '11:00'),('11:15', '11:15'),('11:30', '11:30'),('11:45', '11:45'),)),
        ('PM', (('12:00', '12:00'),('12:15', '12:15'),('12:30', '12:30'),('12:45', '12:45'),
                ('13:00', '13:00'),('13:15', '13:15'),('13:30', '13:30'),('13:45', '13:45'),
                ('14:00', '14:00'),('14:15', '14:15'),('14:30', '14:30'),('14:45', '14:45'),
                ('15:00', '15:00'),('15:15', '15:15'),('15:30', '15:30'),('15:45', '15:45'),
                ('16:00', '16:00'),('16:15', '16:15'),('16:30', '16:30'),('16:45', '16:45'),
                ('17:00', '17:00'),('17:15', '17:15'),('17:30', '17:30'),('17:45', '17:45'),
                ('18:00', '18:00'),('18:15', '18:15'),('18:30', '18:30'),('18:45', '18:45'),
                ('19:00', '19:00'),('19:15', '19:15'),('19:30', '19:30'),('19:45', '19:45'),
                ('20:00', '20:00'),('20:15', '20:15'),('20:30', '20:30'),('20:45', '20:45'),
                ('21:00', '21:00'),('21:15', '21:15'),('21:30', '21:30'),('21:45', '21:45'),
                ('22:00', '22:00'),('22:15', '22:15'),('22:30', '22:30'),('22:45', '22:45'),
                ('23:00', '23:00'),('23:15', '23:15'),('23:30', '23:30'),('23:45', '23:45'),))
    ]

    agenda = models.ForeignKey(Agenda, on_delete=models.CASCADE, null=True, blank=True)

    start_time = models.CharField(
        max_length=50,
        choices=OPEN_TIME_CHOISES,
        null=True,
        ) 

    end_time = models.CharField(
        max_length=50,
        choices=CLOSE_TIME_CHOISES,
        null=True,
        ) 
    
    def __str__(self):
        return f'{self.agenda} availabilities'

    def get_sunday_delete_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('sunday-delete', kwargs=kwargs)

    def get_sunday_update_url(self):
        kwargs = {
            "parent_id":self.agenda.id,
            "id":self.id
        }
        return reverse('hx-sunday-update', kwargs=kwargs)


    


            

        





    
